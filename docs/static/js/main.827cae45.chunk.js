(this["webpackJsonptuning-fork"]=this["webpackJsonptuning-fork"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(4),a=n.n(i),o=n(2),r=(n(9),{C0:16.35,"C\u266f0/D\u266d0":17.32,D0:18.35,"D\u266f0/E\u266d0":19.45,E0:20.6,F0:21.83,"F\u266f0/G\u266d0":23.12,G0:24.5,"G\u266f0/A\u266d0":25.96,A0:27.5,"A\u266f0/B\u266d0":29.14,B0:30.87,C1:32.7,"C\u266f1/D\u266d1":34.65,D1:36.71,"D\u266f1/E\u266d1":38.89,E1:41.2,F1:43.65,"F\u266f1/G\u266d1":46.25,G1:49,"G\u266f1/A\u266d1":51.91,A1:55,"A\u266f1/B\u266d1":58.27,B1:61.74,C2:65.41,"C\u266f2/D\u266d2":69.3,D2:73.42,"D\u266f2/E\u266d2":77.78,E2:82.41,F2:87.31,"F\u266f2/G\u266d2":92.5,G2:98,"G\u266f2/A\u266d2":103.83,A2:110,"A\u266f2/B\u266d2":116.54,B2:123.47,C3:130.81,"C\u266f3/D\u266d3":138.59,D3:146.83,"D\u266f3/E\u266d3":155.56,E3:164.81,F3:174.61,"F\u266f3/G\u266d3":185,G3:196,"G\u266f3/A\u266d3":207.65,A3:220,"A\u266f3/B\u266d3":233.08,B3:246.94,C4:261.63,"C\u266f4/D\u266d4":277.18,D4:293.66,"D\u266f4/E\u266d4":311.13,E4:329.63,F4:349.23,"F\u266f4/G\u266d4":369.99,G4:392,"G\u266f4/A\u266d4":415.3,A4:440,"A\u266f4/B\u266d4":466.16,B4:493.88,C5:523.25,"C\u266f5/D\u266d5":554.37,D5:587.33,"D\u266f5/E\u266d5":622.25,E5:659.26,F5:698.46,"F\u266f5/G\u266d5":739.99,G5:783.99,"G\u266f5/A\u266d5":830.61,A5:880,"A\u266f5/B\u266d5":932.33,B5:987.77,C6:1046.5,"C\u266f6/D\u266d6":1108.73,D6:1174.66,"D\u266f6/E\u266d6":1244.51,E6:1318.51,F6:1396.91,"F\u266f6/G\u266d6":1479.98,G6:1567.98,"G\u266f6/A\u266d6":1661.22,A6:1760,"A\u266f6/B\u266d6":1864.66,B6:1975.53,C7:2093,"C\u266f7/D\u266d7":2217.46,D7:2349.32,"D\u266f7/E\u266d7":2489.02,E7:2637.02,F7:2793.83,"F\u266f7/G\u266d7":2959.96,G7:3135.96,"G\u266f7/A\u266d7":3322.44,A7:3520,"A\u266f7/B\u266d7":3729.31,B7:3951.07,C8:4186.01}),l=n(0);var u,s=new AudioContext,j=0,b=function(){var e=Object(c.useState)(100),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(1),r=Object(o.a)(a,2),b=r[0],d=r[1],O=Object(c.useState)(1),h=Object(o.a)(O,2),v=h[0],f=h[1],p=Object(c.useState)(!1),x=Object(o.a)(p,2),A=x[0],C=x[1],D=function(e,t,n){return 24e4*t*n/e}(n,b,v)/1e3,G=D/2,g=function(){if(s.currentTime-j>=G){var e=j+D;!function(e,t,n){var c=e.createOscillator();c.connect(e.destination),c.start(t),c.stop(t+n)}(s,e,.025),j=e}};return Object(c.useEffect)((function(){A&&(clearInterval(u),u=setInterval(g,D/4))})),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Metronome"}),Object(l.jsx)("input",{"aria-label":"bpm",inputMode:"numeric",onChange:function(e){var t=e.target.value;t.match(/^\d*$/)&&i(t)},value:n,placeholder:"BPM"}),Object(l.jsxs)("select",{"aria-label":"duration",onChange:function(e){d(e.target.value)},value:b,children:[Object(l.jsx)("option",{value:1,children:"Whole"}),Object(l.jsx)("option",{value:.5,children:"Half"}),Object(l.jsx)("option",{value:1/4,children:"Quarter"}),Object(l.jsx)("option",{value:1/8,children:"Eigth "}),Object(l.jsx)("option",{value:1/16,children:"Sixteenth"}),Object(l.jsx)("option",{value:1/32,children:"Thirtysecond"})]}),Object(l.jsxs)("select",{"aria-label":"note type",onChange:function(e){f(e.target.value)},value:v,children:[Object(l.jsx)("option",{value:1,children:"Regular"}),Object(l.jsx)("option",{value:1.5,children:"Dotted"}),Object(l.jsx)("option",{value:2/3,children:"Triplet"})]}),Object(l.jsx)("button",{onClick:function(){A?(clearInterval(u),C(!1)):(s.resume(),C(!0))},children:A?"stop":"start"})]})},d=["sine","square","triangle","sawtooth"],O=new(window.AudioContext||window.webkitAudioContext),h=null,v=null;function f(){var e=Object(c.useState)("440"),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(d[0]),u=Object(o.a)(a,2),s=u[0],j=u[1],f=Object(c.useState)(!1),p=Object(o.a)(f,2),x=p[0],A=p[1],C=function(){v=O.createOscillator(),h=O.createGain(),v.type=s,v.connect(h),v.frequency.value=n,h.connect(O.destination),v.start(0)},D=function(e){return function(t){e(t.target.value)}},G=function(){h.gain.exponentialRampToValueAtTime(1e-5,O.currentTime+.04),A(!1),setTimeout((function(){v.stop()}),40)};return Object(c.useEffect)((function(){var e,t;(null===(e=v)||void 0===e?void 0:e.type)&&(v.type=s),(null===(t=v)||void 0===t?void 0:t.frequency)&&(v.frequency.value=n)}),[n,s]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"tuning fork robot"}),Object(l.jsx)("h2",{children:"Tuning fork"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("select",{"aria-label":"Note",onChange:D(i),value:n,children:Object.keys(r).map((function(e){return Object(l.jsxs)("option",{value:r[e],children:[e," (",r[e],"Hz)"]},e)}))}),Object(l.jsx)("select",{"aria-label":"Wave type",value:s,onChange:D(j),children:d.map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)}))})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{disabled:x,onClick:function(){A(!0),C(),h.gain.exponentialRampToValueAtTime(1e-5,O.currentTime+1.5),setTimeout((function(){A(!1),G()}),1500)},children:"boing"}),Object(l.jsx)("button",{disabled:x,onClick:function(){C(),A(!0)},children:"start"}),Object(l.jsx)("button",{disabled:!x,onClick:G,children:"stop"})]}),Object(l.jsx)(b,{})]})}var p=document.getElementById("root");a.a.render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(f,{})}),p)},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.827cae45.chunk.js.map